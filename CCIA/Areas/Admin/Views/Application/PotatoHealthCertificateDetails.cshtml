@model CCIA.Models.AdminPotatoHealthCertificateViewModel


<h2>Potato Health Certificate</h2> 
<form asp-action="PotatoHealthCertificateDetails">
    <a asp-action="PotatoHealthCertificatePrint" asp-route-id="@Model.certificate.AppId" class="btn btn-info">View/Print Certificate</a>
    <input type="hidden" asp-for="certificate.AppId">
<div class="container col-sm-12">
    <div class="row">         
        <div asp-validation-summary="All" class="text-danger"></div>
    </div> 
    <div class="row">
         <div class="col-md-6 col-xl-4">@*First column *@
            <div class="form-group row">
                <label asp-for="application.Id" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.application.Id)
                </div>
            </div>
            <div class="form-group row">
                <label asp-for="application.VarietyName" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.application.VarietyName)
                </div>
            </div> 
            <div class="form-group row">
                <label asp-for="application.ClassProduced.ClassProducedTrans" class="col-sm-3 col-form-label">Class</label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.application.ClassProduced.ClassProducedTrans)
                </div>
            </div>  
            <div class="form-group row">
                <label asp-for="certificate.YearMicroPropagated" class="col-sm-3 col-form-label"></label>
                <input asp-for="certificate.YearMicroPropagated" class="col-sm-2 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.YearMicroPropagated" data-valmsg-replace="true"></span>
            </div>
            <div class="form-group row">
                <label asp-for="certificate.GoldenNematode" class="col-sm-4 col-form-label"></label>
                <select asp-for="certificate.GoldenNematode" class="col-sm-4 form-control" asp-items="Html.GetEnumSelectList<PotatoHealthResults>()"></select>            
            </div> 
            <div class="form-group row">
                <label asp-for="certificate.PotatoRotNematode" class="col-sm-4 col-form-label"></label>
                <select asp-for="certificate.PotatoRotNematode" class="col-sm-4 form-control" asp-items="Html.GetEnumSelectList<PotatoHealthResults>()"></select>            
            </div>   
            <div class="form-group row">
                <label asp-for="certificate.PotatoSpindleTuberViroid" class="col-sm-4 col-form-label"></label>
                <select asp-for="certificate.PotatoSpindleTuberViroid" class="col-sm-4 form-control" asp-items="Html.GetEnumSelectList<PotatoHealthResults>()"></select>            
            </div>  
            <hr>
            <h3>Post Harvest Readings:</h3> 
            <div class="form-group row">
                <label asp-for="certificate.PostHarvestLocation" class="col-sm-4 col-form-label"></label>
                <input asp-for="certificate.PostHarvestLocation" class="col-sm-4 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.PostHarvestLocation" data-valmsg-replace="true"></span>
            </div> 
            <div class="form-group row">
                <label asp-for="certificate.PostHarvestLeafroll" class="col-sm-4 col-form-label"></label>
                <input asp-for="certificate.PostHarvestLeafroll" class="col-sm-4 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.PostHarvestLeafroll" data-valmsg-replace="true"></span>
            </div> 
            <div class="form-group row">
                <label asp-for="certificate.PostHarvestMosaic" class="col-sm-4 col-form-label"></label>
                <input asp-for="certificate.PostHarvestMosaic" class="col-sm-4 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.PostHarvestMosaic" data-valmsg-replace="true"></span>
            </div> 
            <div class="form-group row">
                <label asp-for="certificate.PostHarvestOtherVarieties" class="col-sm-4 col-form-label"></label>
                <input asp-for="certificate.PostHarvestOtherVarieties" class="col-sm-4 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.PostHarvestOtherVarieties" data-valmsg-replace="true"></span>
            </div>               
            <div class="form-group row">
                <label asp-for="certificate.PostHarvestPlantCount" class="col-sm-4 col-form-label"></label>
                <input asp-for="certificate.PostHarvestPlantCount" class="col-sm-4 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.PostHarvestPlantCount" data-valmsg-replace="true"></span>
            </div>
            <div class="form-group row">
                <label asp-for="certificate.PostHarvestSampleNumber" class="col-sm-4 col-form-label"></label>
                <input asp-for="certificate.PostHarvestSampleNumber" class="col-sm-4 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.PostHarvestSampleNumber" data-valmsg-replace="true"></span>
            </div>
        </div>
        <div class="col-md-6 col-xl-4">@*Second column *@
            <div class="form-group row">
                <label asp-for="application.GrowerName" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.application.GrowerName)
                </div>
            </div>
            <div class="form-group row">
                <label asp-for="application.AcresApplied" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.application.AcresApplied)
                </div>
            </div> 
            <div class="form-group row">                
                <label asp-for="certificate.LotOriginatedFromTissueCulture" class="col-sm-6 col-form-label">Lot originated from tissue culture?</label>
                <input type="checkbox" asp-for="certificate.LotOriginatedFromTissueCulture" class="col-sm-1 form-control">
            </div>  
            <div class="form-group row">
                <label asp-for="certificate.MicropropagatedBy" class="col-sm-3 col-form-label"></label>
                <input asp-for="certificate.MicropropagatedBy" class="col-sm-2 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.MicropropagatedBy" data-valmsg-replace="true"></span>
            </div>  
            <div class="form-group row">
                <label asp-for="certificate.LateBlight" class="col-sm-4 col-form-label"></label>
                <select asp-for="certificate.LateBlight" class="col-sm-4 form-control" asp-items="Html.GetEnumSelectList<PotatoHealthResults>()"></select>            
            </div> 
            <div class="form-group row">
                <label asp-for="certificate.PotatoWart" class="col-sm-4 col-form-label"></label>
                <select asp-for="certificate.PotatoWart" class="col-sm-4 form-control" asp-items="Html.GetEnumSelectList<PotatoHealthResults>()"></select>            
            </div>   
            <div class="form-group row">
                <label asp-for="certificate.CorkyRingSpots" class="col-sm-4 col-form-label"></label>
                <select asp-for="certificate.CorkyRingSpots" class="col-sm-4 form-control" asp-items="Html.GetEnumSelectList<PotatoHealthResults>()"></select>            
            </div>  
            <hr>
            <h3>ELISA  test results for Latent viruses:</h3>   
            <div class="form-group row">
                <label asp-for="certificate.PercentPVY" class="col-sm-4 col-form-label"></label>
                <input asp-for="certificate.PercentPVY" class="col-sm-4 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.PercentPVY" data-valmsg-replace="true"></span>
            </div>
            <div class="form-group row">
                <label asp-for="certificate.PercentPVX" class="col-sm-4 col-form-label"></label>
                <input asp-for="certificate.PercentPVX" class="col-sm-4 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.PercentPVX" data-valmsg-replace="true"></span>
            </div>
        </div>
        <div class="col-md-6 col-xl-4">@*Third column *@
            <div class="form-group row">
                <label class="col-sm-3 col-form-label">Address</label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.application.GrowerOrganization.Addresses.First().Address.City), @Html.DisplayFor(x => x.application.GrowerOrganization.Addresses.First().Address.StateProvince.Name) @Html.DisplayFor(x => x.application.GrowerOrganization.Addresses.First().Address.PostalCode)
                </div>
            </div> 
            <div class="form-group row">
                <label asp-for="application.FullCert" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.application.FullCert)
                </div>
            </div> 
            <div class="form-group row">
                <label asp-for="certificate.NumberOfYearsProduced" class="col-sm-6 col-form-label">Number of years produced in field soil</label>
                <input asp-for="certificate.NumberOfYearsProduced" class="col-sm-2 form-control">
                <span class="field-validation-valid text-danger" data-valmsg-for="certificate.NumberOfYearsProduced" data-valmsg-replace="true"></span>
            </div> 
            <div class="form-group row">
                <label asp-for="certificate.BacterialRingRot" class="col-sm-4 col-form-label"></label>
                <select asp-for="certificate.BacterialRingRot" class="col-sm-4 form-control" asp-items="Html.GetEnumSelectList<PotatoHealthResults>()"></select>            
            </div>    
            <div class="form-group row">
                <label asp-for="certificate.RootKnotNematode" class="col-sm-4 col-form-label"></label>
                <select asp-for="certificate.RootKnotNematode" class="col-sm-4 form-control" asp-items="Html.GetEnumSelectList<PotatoHealthResults>()"></select>            
            </div>    
            <div class="form-group row">
                <label asp-for="certificate.PowderScap" class="col-sm-4 col-form-label"></label>
                <select asp-for="certificate.PowderScap" class="col-sm-4 form-control" asp-items="Html.GetEnumSelectList<PotatoHealthResults>()"></select>            
            </div>
            <div class="form-group-row">
                <label class="col-sm-4 col-form-label">&nbsp;</label>                
            </div>
            <hr>
            <h3>Production History:</h3>
            <table class="table">
                <tr>
                    <th></th>
                    <th>Production Year</th>
                    <th>Greenhouse</th>
                    <th>Field</th>
                    <th>Cert#</th>
                    <th>Certify State</th>
                </tr>
           
                @foreach (var year in Model.histories)
                {
                    <tr>
                        <td><a asp-action="EditPotatoHealthCertificateHistory" class="btn btn-primary" asp-route-id="@year.Id">Edit</a></td>
                        <td>@year.ProductionYear</td>
                        <td>@year.Greenhouse</td>
                        <td>@year.Field</td>
                        <td>@year.CertNumber</td>
                        <td>@year.CertifyingState</td>
                    </tr>                    
                }
            </table>
        </div>        
    </div>
    <div class="row">
            <div class="col-sm-12">
                <div class="form-group row">
                    <label asp-for="certificate.Notes" class="col-sm-1 col-form-label"></label>
                    <textarea asp-for="certificate.Notes" class="col-sm-10 form-control" rows="3"></textarea>
                    <span class="field-validation-valid text-danger" data-valmsg-for="certificate.Notes" data-valmsg-replace="true"></span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <input type="submit" value="Update" class="btn btn-primary"></input>                   
            </div>  
        </div> 
</div>
</form>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}