@model  CCIA.Models.OECD



<div class="container col-sm-12">    
    <div class="row">
        <div class="col-sm-12">
            <h2>OECD Details</h2> 
        </div>
    </div>
    <div class="row">        
            <div class="col-sm-6"><a asp-action="Previous" asp-route-id="@Model.Id" class="btn btn-light">Previous</a> |  <a asp-action="Next" asp-route-id="@Model.Id"  class="btn btn-light">Next</a></div>
            <div class="col-sm-6">
                @if(Model.FollowUp)
                {
                    <b>OECD File Flagged for Follow-up</b>
                }
                <a asp-action="ToggleFollowup" asp-route-id="@Model.Id" class="btn btn-dark">Toggle Follow-up</a>
            </div>                  
    </div>
    <div class="row">
        <div class="col-sm-12">
            <hr>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <a class="btn btn-primary" asp-action="Edit" asp-controller="OECD" asp-area="Admin" asp-route-id="@Model.Id">Edit</a> 
        </div>            
    </div> 
    <div class="row">
        <div class="col-md-6 col-xl-4"> @* First column *@
            <div class="form-group row">
                <label asp-for="Id" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.Id)
                </div>
            </div>
            <div class="form-group row">
                <label asp-for="DateRequested" class="col-sm-3 col-form-label"></label>
                @if(Model.DateRequested.HasValue)
                {
                    <div class="col-sm-9 form-control-plaintext">
                        @Model.DateRequested.Value.ToShortDateString()
                    </div>
                }                
            </div> 
            <div class="form-group row">
                <label asp-for="ShipperOrganization.NameAndId" class="col-sm-3 col-form-label">Shipper</label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.ShipperOrganization.NameAndId)
                </div>
            </div>
            <div class="form-group row">
                <label asp-for="ConditionerOrganization.NameAndId" class="col-sm-3 col-form-label">Conditioner</label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.ConditionerOrganization.NameAndId)
                </div>
            </div>  
            <div class="form-group row">
                <label asp-for="Class.Class" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.Class.Class)
                </div>
            </div>   
            <div class="form-group row">
                <label asp-for="Variety.NameAndId" class="col-sm-3 col-form-label">Variety</label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.Variety.NameAndId)
                </div>
            </div> 
            <div class="form-group row">
                <label asp-for="TotalFee" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.TotalFee)
                </div>
            </div>
            <div class="form-group row">                
                <label asp-for="NotCertified" class="col-sm-3 col-form-label"></label>
                <input type="checkbox" asp-for="NotCertified" class="col-sm-3 form-control">
            </div> 
            <div class="form-group row">
                <label asp-for="DataEntryDate" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.DataEntryDate)
                </div>
            </div>
            <div class="form-group row">
                <label asp-for="UpdateDate" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.UpdateDate)
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-4"> @* Second column *@
            <div class="form-group row">
                <label class="col-sm-3 col-form-label">ID</label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.LinkId)
                    @if(Model.Seeds != null)
                    {
                        <a asp-action="details" asp-controller="Seeds" asp-route-id="@Model.SeedsId" class="btn btn-info">SID</a>
                    }
                    @if(Model.Blend != null)
                    {
                        <a asp-action="details" asp-controller="Blends" asp-route-id="@Model.BID" class="btn btn-info">BID</a>
                    }
                </div>
            </div>                    
            <div class="form-group row">
                <label asp-for="DatePrinted" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.DatePrinted)
                </div>
            </div> 
            <div class="form-group row">
                <label asp-for="CertNumber" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.CertNumber)
                </div>
            </div> 
            <div class="form-group row">
                <label asp-for="LotReferenceNumber" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.LotReferenceNumber)
                </div>
            </div>  
            <div class="form-group row">
                <label asp-for="LinkClass" class="col-sm-3 col-form-label">Class</label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.LinkClass)
                </div>
            </div>
           <div class="form-group row">
               <label asp-for="Variety.Crop.Name" class="col-sm-3 col-form-label"></label>
               <div class="col-sm-9 form-control-plaintext">
                   @Html.DisplayFor(x => x.Variety.Crop.Name)
               </div>
           </div>
           <div class="form-group row">
               <label asp-for="Country.Name" class="col-sm-3 col-form-label"></label>
               <div class="col-sm-9 form-control-plaintext">
                   @Html.DisplayFor(x => x.Country.Name)
               </div>
           </div>
           <div class="form-group row">                
                <label asp-for="Canceled" class="col-sm-3 col-form-label"></label>
                <input type="checkbox" asp-for="Canceled" class="col-sm-3 form-control">
            </div> 
           <div class="form-group row">
               <label asp-for="DataEntryUser" class="col-sm-3 col-form-label"></label>
               <div class="col-sm-9 form-control-plaintext">                  
                        @Html.DisplayFor(x => x.EntryEmployee.Name)
               </div>
           </div>
           <div class="form-group row">
               <label asp-for="UpdateUser" class="col-sm-3 col-form-label"></label>
               <div class="col-sm-9 form-control-plaintext">
                    @if (Model.UpdateUser != null && Model.UpdateEmployee == null)
                    {
                        <span>Client</span>
                    }
                    else
                    {
                        @Html.DisplayFor(x => x.UpdateEmployee.Name)
                    }
               </div>
           </div>                                                          
        </div>
        <div class="col-md-6 col-xl-4"> @* Third Col *@ 
            <div class="form-group row">
                <label asp-for="CertYear" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.CertYear)
                </div>
            </div> 
            <div class="form-group row">
                <label asp-for="CloseDate" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @if(Model.CloseDate.HasValue)
                    {
                        @Model.CloseDate.Value.ToShortDateString()
                    }                   
                </div>
            </div>
            <div class="form-group row">
                <label asp-for="LotNumber" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.LotNumber)
                </div>
            </div> 
            <div class="form-group row">
                <label asp-for="TagsRequested" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.TagsRequested)
                </div>
            </div>  
            <div class="form-group row">
                <label asp-for="Pounds" class="col-sm-3 col-form-label"></label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.Pounds)
                </div>
            </div> 
            <div class="form-group row">
                <label asp-for="ReferenceNumber" class="col-sm-3 col-form-label">Reference #</label>
                <div class="col-sm-9 form-control-plaintext">
                    @Html.DisplayFor(x => x.ReferenceNumber)
                </div>
            </div>   
            <div class="form-group row">                
                <label asp-for="DomesticOrigin" class="col-sm-3 col-form-label"></label>
                <input type="checkbox" asp-for="DomesticOrigin" class="col-sm-3 form-control">
            </div>                        
        </div>
    </div>
    <div class="col-sm-12"> @* full width *@        
        <div class="form-group row">
            <label asp-for="Comments" class="col-sm-3 col-form-label"></label>
            <div class="col-sm-9 form-control-plaintext">
                @Html.DisplayFor(x => x.Comments)
            </div>
        </div>
        <div class="form-group row">
            <label asp-for="AdminComments" class="col-sm-3 col-form-label"></label>
            <div class="col-sm-9 form-control-plaintext">
                @Html.DisplayFor(x => x.AdminComments)
            </div>
        </div>
        <div class="row">
            <a asp-action="Certificate" asp-controller="OECD" asp-route-id="@Model.Id" asp-route-charge="true" class="btn btn-primary">Print Certificate (enter charge)</a>
            <a asp-action="Certificate" asp-controller="OECD" asp-route-id="@Model.Id" class="btn btn-info">Review Certificate (no charge)</a>
        </div>
        <div>
            <hr>
            <a asp-action="Invoice" asp-controller="OECD" asp-route-id="@Model.Id" class="btn btn-info">OECD Invoice</a>
            <hr>
        </div>
         <div class="row">
            <h3>Changes made to this File:</h3>
            <table class="table table-sm">
                <thead>
                <tr>
                    <th>column</th>
                    <th>Old Value</th>
                    <th>New Value</th>
                    <th>Date</th>
                    <th>Person</th>
                </tr>
                </thead>
                <tbody>
                @foreach (var row in Model.Changes.OrderBy(c => c.Id))
                {
                    <tr>
                        <td>@row.ColumnChange</td>
                        <td>@row.OldValue</td>
                        <td>@row.NewValue</td>
                        <td>@row.DateChanged</td>
                        <td>
                            @if(row.Employee != null)
                            {
                                    @row.Employee.Name
                                } else
                                {
                                    <span>Client</span>
                                }
                            </td>
                    </tr>
                }
                </tbody>
            </table>
        </div>
    </div>     
</div>

@section Scripts {
    <script>
        $(":checkbox").on("click", false);
    </script>
   
}